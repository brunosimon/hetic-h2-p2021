<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>TRIM 2 - Cours 09 - PHP - Les bases</title>
        <meta name="description" content="">
        <meta name="author" content="Bruno Simon">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="../src/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="../src/reveal.js/css/theme/orange.css" id="theme">
        <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/railscasts.css">
        <!-- <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/github.css"> -->
        <link rel="stylesheet" href="../src/custom/style.css">
        <script>
            document.write( '<link rel="stylesheet" href="../src/reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>
        <!--[if lt IE 9]>
            <script src="../src/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h3>H2 - P2021</h3>
                    <h1>Développement web</h1>
                    <h3>Cours 09</h3>
                    <ul>
                        <li>github : <a target="_blank" href="https://github.com/brunosimon/hetic-p2021">https://github.com/brunosimon/hetic-p2021</a></li>
                        <li>site : <a target="_blank" href="http://bruno-simon.com/hetic/p2021/">http://bruno-simon.com/hetic/p2021/</a></li>
                        <li>contact : <a target="_blank" mailto="bruno.simon@hetic.net">bruno.simon@hetic.net</a></li>
                    </ul>
                </section>

                <section>
                    <h3>PHP</h3>
                    <h1>Les bases</h1>
                </section>

                <section>
                    <h2>Qu'est-ce que c'est</h2>
                    <p>PHP est un language de programmation</p>
                    <p>Exécuté côté serveur</p>
                    <p>Se combine parfaitement avec du HTML</p>
                    <p>Orienté objet (pas obligatoire)</p>
                </section>

                <section>
                    <h2>Concrètement ça sert à quoi ?</h2>
                    <p>Au final, le PHP va nous permettre de renvoyer du HTML, mais en faisant plein de choses avant</p>
                    <ul>
                        <li class="fragment">Communiquer avec une base de données</li>
                        <li class="fragment">Communiquer avec des APIs<br />(Facebook, Twitter, Instagram, Google, ...)</li>
                        <li class="fragment">Traiter des formulaires</li>
                        <li class="fragment">Gérer des sessions</li>
                        <li class="fragment">Sécuriser des espaces</li>
                        <li class="fragment">etc.</li>
                    </ul>
                </section>

                <section>
                    <h2>Exemples plus concrets</h2>
                    <ul>
                        <li class="fragment">Aller chercher des articles dans une BDD base de données puis les afficher dans la page</li>
                        <li class="fragment">Administrer ces articles dans un espace sécurisé (login, mot de passe)</li>
                        <li class="fragment">Aller chercher les derniers tweets de tel hashtag et les enregistrer dans la BDD</li>
                        <li class="fragment">Récupérer les informations de profil Facebook d'un utilisateur</li>
                        <li class="fragment">Permettre à l'utilisateur d'enregistrer son mail pour lui envoyer des newsletter</li>
                        <li class="fragment">Permettre à l'utilisateur d'effectuer un paiement</li>
                    </ul>
                </section>

                <section>
                    <h2>Avantages</h2>
                    <p>Grande communauté</p>
                    <p>Facile à mettre en place<br>(la majorité des hébergeurs le supporte)</p>
                    <p>Robuste</p>
                </section>

                <section>
                    <h2>Inconvenients</h2>
                    <p>Syntaxe</p>
                    <p>Permissif</p>
                    <p>Pas le plus rapide<br>(beaucoup plus rapide depuis la version 7)</p>
                </section>

                <section>
                    <h2>Il existe des alternatives</h2>
                </section>

                <section>
                    <h2>Ruby on rails</h2>
                    <img class="no-style" src="src/img/rails.png" alt="" width="220"/>
                    <p>100% objet</p>
                    <p>Syntaxiquement concis</p>
                    <p>Plus rapide dans certains cas</p>
                </section>

                <section>
                    <h2>Node.JS</h2>
                    <img class="no-style" src="src/img/nodejs.png" alt="" width="420"/>
                    <p>JS côté serveur</p>
                    <p>Nouvelles possibilités</p>
                    <p>Accessible si vous maîtrisez JS</p>
                </section>

                <section>
                    <h2>Fonctionnement</h2>
                    <p>Un script PHP est un fichier ayant pour extension <span class="highlight">.php</span></p>
                    <p>C'est le logiciel <a target="_blank" href="http://fr.wikipedia.org/wiki/Apache_HTTP_Server">Apache Server</a> qui va l'interpréter</p>
                    <p>Il faut donc installer Apache pour pouvoir faire du PHP que ce soit en local (sur votre ordinateur) ou en ligne (sur le serveur)</p>
                    <p>Lorsque l'utilisateur va accéder au site, Apache va <span class="highlight">interpréter</span>/<span class="highlight">exécuter</span> le script PHP et <span class="highlight">renvoyer</span> le résultat à l'utilisateur</p>
                </section>

                <section>
                    <p>Il va donc falloir installer Apache</p>
                    <p><a target="_blank" href="http://www.wampserver.com/#download-wrapper">http://www.wampserver.com/#download-wrapper</a> - WampServer (windows)</p>
                    <p><a target="_blank" href="https://www.mamp.info/">https://www.mamp.info/</a> - MAMP (mac)</p>
                </section>

                <!-- <section>
                    <h3>Apache et Skype</h3>
                    <p>Depuis peu, Skype utilise les mêmes ports que Apache, empêchant ce dernier de démarrer</p>
                    <p>Sur Skype, aller dans <span class="hl">Outils > Options...</span></p>
                    <p><img src="src/img/skype-1.png" alt=""></p>
                </section> -->

                <!-- <section>
                    <p>Aller dans <span class="hl">Avancées > Connexion</span> et décocher <span class="hl">Utiliser les ports 80 et 443 pour...</span></p>
                    <p><img src="src/img/skype-2.png" alt="" width="500"></p>
                </section> -->

                <section>
                    <p>Les deux logiciels (windows et mac) fonctionnent sensiblement de la même manière.</p>
                    <p>Il faut lancer le logiciel puis lancer le serveur</p>
                    <p>
                        Vous allez maintenant devoir développer dans des dossiers spécifiques :
                        <br /><span class="highlight">Applications/MAMP/htdocs/</span> (mamp)
                        <br /><span class="highlight">C:\wamp\www\</span> (wamp)
                    </p>
                </section>

                <section>
                    <p>
                        <img width="200" class="no-style" src="src/img/mamp-free-working.png" alt=""/> <img class="no-style" width="250" src="src/img/mamp-working.png" alt=""/>
                        <br /><img class="no-style" src="src/img/wamp-working.png" alt=""/>
                    </p>
                </section>

                <section>
                    <h2>Hello World</h2>
                    <p>Dans le dossier de votre serveur (<span class="highlight">htdocs</span> ou <span class="highlight">www</span>), créez le fichier <span class="highlight">hello-world.php</span></p>
                    <pre><code  data-trim contenteditable class="php">
&lt;?php
    echo 'Hello World';
?&gt;
                    </code></pre>
                </section>

                <section>
                    <p>
                        Pour voir le résultat, rendez-vous à l'adresse suivante depuis votre navigateur : 
                        <br />(Apache doit être lancé)
                        <br /><a target="_blank" href="http://localhost/hello-world.php">http://localhost/hello-world.php</a> (Windows)
                        <br /><a target="_blank" href="http://localhost:8888/hello-world.php">http://localhost:8888/hello-world.php</a> (Mac)
                    </p>
                </section>

                <section>
                    <h2>Explication</h2>
                    <p>La partie PHP est délimitée par <span class="highlight">&lt;?php</span> et <span class="highlight">?&gt;</span></p>
                    <p>Il est possible d'utiliser <span class="highlight">&lt;?</span> et <span class="highlight">?&gt;</span></p>
                    <p><span class="highlight">echo</span> indique que le script doit renvoyer ce qui suit</p>
                    <p>Comme en JS, les instructions se terminent par un <span class="highlight">;</span></p>
                    <pre><code  data-trim contenteditable class="php">
&lt;?
    echo 'Hello World';
?&gt;
                    </code></pre>
                </section>

                <section>
                    <p>Lorsqu'il n'y a que du PHP, il est inutile de fermer PHP</p>
                    <pre><code  data-trim contenteditable class="php">
&lt;?
    echo 'Hello World';
                    </code></pre>
                </section>

                <section>
                    <h2>Commenter votre code</h2>
                    <p>Les commentaires fonctionnent comme en JS</p>
                    <p>Plusieurs lignes entre <span class="highlight">/*</span> et <span class="highlight">*/</span></p>
                    <p>Une seule ligne précédée par <span class="highlight">//</span></p>
                    <pre><code  data-trim contenteditable class="php">
&lt;?
    /*
    Plusieurs lignes
    comme ça
    */

    // Une seule ligne comme ça

    echo 'Hello World';
                    </code></pre>
                </section>

                <section>
                    <h2>HTML et PHP</h2>
                    <p>En dehors des balises PHP <span class="highlight">&lt;?</span> et <span class="highlight">?&gt;</span> vous pouvez mettre du HTML</p>
                    <p>Si vous voulez mettre du PHP dans une page HTML pensez simplement à changer l'extension de votre fichier de <span class="highlight">.html</span> à <span class="highlight">.php</span></p>
                    <pre><code  data-trim contenteditable class="php">
<h1>
    &lt;? echo 'Hello World'; ?&gt;
</h1>
&lt;a href=&quot;#&quot;&gt;Mon lien&lt;/a&gt;
                    </code></pre>
                </section>
            </div>
        </div>

        <script src="../src/reveal.js/lib/js/head.min.js"></script>
        <script src="../src/reveal.js/js/reveal.js"></script>
        <script src="../src/custom/script.js"></script>
    </body>
</html>
